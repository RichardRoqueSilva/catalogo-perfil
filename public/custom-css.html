<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página com CSS Customizado</title>
    
    <style>
        :root {
            --primary-color: #0d6efd; --light-gray: #f8f9fa; --medium-gray: #e9ecef;
            --dark-gray: #6c757d; --text-color: #212529; --white-color: #fff;
            --border-color: #dee2e6; --shadow: 0 .125rem .25rem rgba(0,0,0,.075);
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0; background-color: var(--light-gray); color: var(--text-color);
        }
        .container { max-width: 1140px; margin: 0 auto; padding: 1.5rem; }
        .profile-grid { display: grid; grid-template-columns: 40% 1fr; gap: 1.5rem; }
        .card {
            background-color: var(--white-color); border: 1px solid var(--border-color);
            border-radius: .25rem; box-shadow: var(--shadow);
        }
        .card-header { padding: .75rem 1.25rem; background-color: var(--light-gray); border-bottom: 1px solid var(--border-color); }
        .card-body { padding: 1.25rem; }
        .user-list { list-style: none; padding: 0; margin: 0; }
        .user-list-item { padding: .75rem 1.25rem; border: 1px solid var(--border-color); border-top-width: 0; cursor: pointer; transition: background-color 0.2s, transform 0.2s; }
        .user-list-item:first-child { border-top-width: 1px; border-top-left-radius: .25rem; border-top-right-radius: .25rem; }
        .user-list-item:last-child { border-bottom-left-radius: .25rem; border-bottom-right-radius: .25rem; }
        .user-list-item:hover { background-color: var(--medium-gray); transform: translateX(3px); }
        .user-list-item.active { background-color: var(--primary-color); color: var(--white-color); border-color: var(--primary-color); }
        .btn { display: inline-block; padding: .375rem .75rem; font-size: 1rem; font-weight: 400; text-align: center; text-decoration: none; vertical-align: middle; cursor: pointer; border: 1px solid transparent; border-radius: .25rem; transition: color .15s, background-color .15s; }
        .btn-primary { color: var(--white-color); background-color: var(--primary-color); border-color: var(--primary-color); }
        @media (max-width: 768px) { .profile-grid { grid-template-columns: 1fr; } }
        .text-center { text-align: center; } .mb-3 { margin-bottom: 1rem; } .h4 { font-size: 1.5rem; }
    </style>
</head>
<body>
    <div class="container">
        <header class="text-center mb-3">
            <h1>Catálogo (Vanilla JS + Custom CSS)</h1>
            <p>A mesma funcionalidade sem bibliotecas de UI.</p>
        </header>
        
        <div id="loading-indicator">Carregando...</div>
        <div id="error-message" style="display: none;"></div>

        <main id="main-content" class="profile-grid" style="display: none;">
            <section>
                <h2 class="h4 mb-3">Lista de Usuários</h2>
                
                <div class="card mb-3">
                    <div class="card-body">
                        <h5>Vanilla JS + Custom CSS</h5>
                        <p class="small">
                            <strong>Ponto Forte:</strong> Leveza e Performance. Sem bibliotecas, o carregamento é mais rápido. Este design é 100% único.
                            <br>
                            <strong>Ponto Fraco:</strong> Verboso. Funções básicas como um `toggle` ou um `card` precisam ser escritas do zero.
                        </p>
                        <button id="toggle-details-btn" class="btn btn-primary" style="font-size: 0.8rem;">Ver Ponto Fraco (Exemplo)</button>
                        <div id="weakness-details" style="display: none; margin-top: 1rem; background: #eee; padding: 10px; border-radius: 4px;">
                            <p class="small"><code>Exemplo: document.getElementById('...').style.display = 'block';</code><br>É mais verboso que um <code>$('#...').show()</code> do jQuery ou um <code>{'{isShown && <Component/>}'}</code> do React.</p>
                        </div>
                    </div>
                </div>

                <ul id="user-list" class="user-list"></ul>
            </section>
            <section>
                <h2 class="h4 mb-3">Detalhes do Usuário</h2>
                <div id="user-details-container">
                    <div class="card">
                        <div class="card-body" style="text-align: center; color: var(--dark-gray);">
                            Selecione um usuário na lista.
                        </div>
                    </div>
                </div>
            </section>
        </main>

         <footer class="text-center" style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid var(--border-color);">
            <p style="margin-bottom: 0.5rem;"><strong>Navegar para outras versões:</strong></p>
            <div>
                <a href="/" class="btn btn-primary" style="margin: 0.25rem;">
                    Ver Versão React
                </a>
                <a href="/legacy.html" class="btn btn-primary" style="margin: 0.25rem; background-color: #ffc107; border-color: #ffc107;">
                    Ver Versão jQuery
                </a>

    </div>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const userListEl = document.getElementById('user-list');
            const userDetailsContainerEl = document.getElementById('user-details-container');
            const loadingEl = document.getElementById('loading-indicator');
            const errorEl = document.getElementById('error-message');
            const mainContentEl = document.getElementById('main-content');
            let usersData = [];
            
            fetch('https://jsonplaceholder.typicode.com/users')
                .then(response => { if (!response.ok) { throw new Error('Falha na rede'); } return response.json(); })
                .then(users => {
                    loadingEl.style.display = 'none'; mainContentEl.style.display = 'grid';
                    usersData = users; renderUserList(users);
                })
                .catch(error => {
                    loadingEl.style.display = 'none'; errorEl.textContent = `Erro: ${error.message}`;
                    errorEl.style.display = 'block';
                });

            function renderUserList(users) {
                userListEl.innerHTML = '';
                users.forEach(user => {
                    const li = document.createElement('li');
                    li.className = 'user-list-item'; li.textContent = user.name;
                    li.dataset.userId = user.id; userListEl.appendChild(li);
                });
            }

            function renderUserDetails(user) {
                const detailsHtml = `<div class="card"><div class="card-header"><h5>${user.name}</h5></div><div class="card-body"><p><strong>Email:</strong> ${user.email}</p><p><strong>Telefone:</strong> ${user.phone}</p><p><strong>Website:</strong> ${user.website}</p></div></div>`;
                userDetailsContainerEl.innerHTML = detailsHtml;
            }
            
            userListEl.addEventListener('click', (event) => {
                if (event.target && event.target.tagName === 'LI') {
                    const clickedLi = event.target;
                    const userId = parseInt(clickedLi.dataset.userId, 10);
                    const selectedUser = usersData.find(u => u.id === userId);
                    userListEl.querySelectorAll('li').forEach(item => item.classList.remove('active'));
                    clickedLi.classList.add('active');
                    if (selectedUser) { renderUserDetails(selectedUser); }
                }
            });

            // --- LÓGICA DO BOTÃO PARA DEMONSTRAR PONTO FRACO ---
            const toggleBtn = document.getElementById('toggle-details-btn');
            const weaknessDetails = document.getElementById('weakness-details');
            toggleBtn.addEventListener('click', () => {
                const isHidden = weaknessDetails.style.display === 'none';
                if (isHidden) {
                    weaknessDetails.style.display = 'block';
                    toggleBtn.textContent = 'Esconder Ponto Fraco';
                } else {
                    weaknessDetails.style.display = 'none';
                    toggleBtn.textContent = 'Ver Ponto Fraco (Exemplo)';
                }
            });
        });
    </script>
</body>
</html>